% -*- root: main.tex -*-
% https://www.sharelatex.com/learn/Code_listing

% \usepackage{upquote}
\usepackage{listings}
\usepackage{color}

\renewcommand\lstlistingname{Code}

\definecolor{limegreen}{rgb}{0,0.6,0}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codemauve}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\newmdenv[innerlinewidth=0.5pt, roundcorner=4pt,backgroundcolor=backcolour,linecolor=black,innerleftmargin=6pt,
innerrightmargin=6pt,innertopmargin=6pt,innerbottommargin=6pt]{textbox}

\mdfdefinestyle{mystyle}{%
linecolor=green!40!black,outerlinewidth=1pt,%
frametitlerule=true,frametitlefont=\sffamily\bfseries\color{white},%
frametitlerulewidth=1pt,frametitlerulecolor=green!40!black,%
frametitlebackgroundcolor=green!40!black,
backgroundcolor=green!5,
innertopmargin=\topskip,
roundcorner=5pt
}
\newmdenv[style=mystyle]{exa}
\newenvironment{term}[1]
  {\begin{exa}[frametitle=#1]}
  {\end{exa}}

\newcommand*{\Comment}[1]{\hfill\makebox[3.0cm][l]{#1}}

\lstdefinelanguage{TXT}{
  keywords={},
  comment=[l]{},
  literate={\$}{{\textcolor{red}\$}}1
}

\lstdefinelanguage{ROS}{
  keywords={
  roscd,rospd,rosd,rosls,rosed,roscp,roscore,rosrun,roslaunch,rosclean,rosdep,rosdistro,
  rostopic,rosservice,rosnode,rosparam,rosmsg,rossrv,roswtf,rosversion,
  rosbag,catkin_create_pkg,catkin_eclipse,catkin_find,catkin_generate_changelog,
  catkin_init_workspace,catkin_make,rqt,rqt_plot,rqt_graph,rqt_bag,
  sudo,apt-get,install,cd,mkdir,make,cp,ntpdate,gedit,nano,ssh,
  ls,rm,sh,wget,update,upgrade,apt,get,ifconfig,source,git,qtcreator,cm,hg},
  comment=[l]{//},
  literate={\$}{{\textcolor{red}\$}}1
}

\lstdefinelanguage{YAML}{
  keywords={true,false,null,y,n},
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1
                {|}{{\textcolor{red}\textbar}}1
                {\ -\ }{{\mdseries\ -\ }}3
}

% \newfontfamily\listingsfont[Scale=.7]{DejaVu Sans Mono}
% \lstset{basicstyle=\listingsfont}

\lstset{
  % upquote=true,
  xleftmargin=5pt,
  xrightmargin=5pt,
  backgroundcolor=\color{backcolour},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{codegreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,                    % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  columns=fullflexible,
  keywordstyle=\color{blue},       % keyword style
  language=C++,                    % the language of the code
  morekeywords={*,...},            % if you want to add more keywords to the set
  numbers=none,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{codegray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{codemauve},     % string literal style
  tabsize=2,                       % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
  % morecomment=[l]{//}              % displays comments in italics (language dependent)
}
